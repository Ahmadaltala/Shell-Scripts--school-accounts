# Linux/macOS User Account Automation Scripts

## Description

Automate student account creation and removal for programming labs on Linux or macOS. Reads students from CSV, creates users with home folders and policy, assigns default passwords, and archives/removes accounts at semester end.

## Features

- Bulk creation of student accounts from a CSV file
- Unique username generation based on student name and ID
- Default password assignment (students must change it after first login)
- Automatic creation of `documents` and `code` folders, and copying of `POLICY.md` to each home directory
- All users added to a `students` group
- Bulk removal of accounts and archiving of home directories at semester end
- Archive size warning if over 1GB
- Compatible with Linux and macOS (with macOS-specific notes)

## Files

- `create_students.sh`: Creates user accounts from a CSV file (macOS).
- `remove_students.sh`: Archives and removes user accounts at semester end (macOS).
- `archive_and_remove.sh`: Wrapper for `remove_students.sh` (if required).
- `POLICY.md`: Usage policy copied to each student's home.
- `README.md`: Project description and usage instructions.
- `2023_fall.csv`: Example input CSV file.
- `2023_fall_users.csv`: Example output users CSV file (generated by the script).

## Usage

1. **Prepare your CSV file** (e.g., `2023_fall.csv`) with:
   ```
   student_id,last_name,first_name
   1234,Doe,John
   5678,Smith,Jane
   ```

2. **Create accounts**:
   ```
   ./create_students.sh 2023_fall.csv
   ```
   - Generates `2023_fall_users.csv` with student IDs and usernames.

3. **Remove accounts and archive data**:
   ```
   ./remove_students.sh 2023_fall_users.csv
   ```
   - Archives home folders to `~/archives/2023_fall.tar`.
   - Warns if archive exceeds 1GB.

## Notes

- Run scripts with appropriate permissions (may require `sudo`).
- Default password is `ChangeMe123`.
- All users are added to the `students` group.

**Note for all macOS users:**  
*Forcing a password change on first login is not supported by the script on macOS. Students should be instructed to change their password after first login.*

**Platform compatibility note:**  
*Some scripts (such as `create_students.sh` and `remove_students.sh`) are written specifically for macOS and use macOS commands (`sysadminctl`, `dscl`). The script `create_users.sh` is provided for Linux systems and uses Linux-specific commands (`useradd`, `groupadd`, etc.). Please use the appropriate script for your operating system. Running a script on the wrong platform may result in errors or missing commands.*
